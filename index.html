<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>å©šç¦®å·¥ä½œé é¢ç´¢å¼•</title>
  <style>
    :root{--accent:#d4145a;--muted:#666}
    body{font-family:"Microsoft JhengHei",sans-serif;background:#f5f5f5;margin:0;padding:18px}
    .wrap{max-width:980px;margin:0 auto;background:#fff;padding:20px;border-radius:8px}
    h1{color:var(--accent);margin:0 0 8px}
    .meta{background:#fff3cd;border-left:4px solid #ffc107;padding:10px;margin-bottom:12px}
    .search{display:flex;gap:8px;margin:12px 0}
    input[type="search"]{flex:1;padding:10px;border:1px solid #ddd;border-radius:6px;font-size:16px}
    .list{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:10px}
    .card{border:1px solid #eee;padding:12px;border-radius:8px;background:#fff}
    .title{font-weight:700;color:#1e2a78;margin-bottom:6px}
    .desc{color:var(--muted);font-size:13px;margin-bottom:8px}
    .tags{font-size:12px;color:#666;margin-bottom:8px}
    .actions{display:flex;gap:6px}
    button, a.btn{background:var(--accent);color:#fff;padding:8px 10px;border-radius:6px;border:none;text-decoration:none;font-size:13px;cursor:pointer}
    a.secondary{background:#eee;color:#333}
    .qr{display:flex;gap:8px;align-items:center}
    .qr img{width:72px;border-radius:6px}
    .note{font-size:13px;color:#666;margin-top:12px}
    @media (max-width:640px){.list{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ğŸ“‹ å©šç¦®å·¥ä½œé é¢ç´¢å¼•</h1>
    <div class="meta">
      <strong>æ´»å‹•ï¼š</strong>2/7 å…¸è¯é–£æ¨“å»³ åˆå®´ â€” 15 æ¡Œ / 158 äºº<br>
      <strong>å¿«é€Ÿèªªæ˜ï¼š</strong>é»é¸ä»»ä¸€æ¸…å–®ä»¥é–‹å•Ÿè©²é ï¼ˆå¯åˆ†äº«/åˆ—å°ï¼‰ã€‚
    </div>

    <div class="search">
      <input type="search" id="q" placeholder="æœå°‹ï¼šäººå / ç‰©å“ / æ™‚é–“ï¼ˆä¾‹å¦‚ï¼šè‹¥æ£»ã€è¢å…‰æ£’ã€12:30ï¼‰" aria-label="æœå°‹">
      <button id="clear" class="secondary">æ¸…é™¤</button>
    </div>

    <div class="list" id="list"></div>

    <div class="note">
      æç¤ºï¼šåœ¨æœ¬æ©Ÿæ¸¬è©¦è«‹ç›´æ¥é–‹å•Ÿæ­¤æª”æ¡ˆæˆ–ä½¿ç”¨ç°¡å–®ä¼ºæœå™¨ï¼ˆä¾‹å¦‚ï¼šåœ¨è³‡æ–™å¤¾åŸ·è¡Œ <code>python -m http.server 8000</code>ï¼Œç„¶å¾Œé–‹å•Ÿ <code>http://localhost:8000</code>ï¼‰ã€‚
    </div>
  </div>

  <script>
    // é é¢æ¸…å–®ï¼ˆè‹¥æ–°å¢æª”æ¡ˆåœ¨æ­¤åŠ å…¥ï¼‰
    const pages = [
      {file:'wedding_checklist.html', title:'å©šç¦®å·¥ä½œåˆ†é…æ¸…å–®', desc:'å·¥ä½œåˆ†çµ„ã€ç‰©å“æ¸…å–®ã€æ³¨æ„äº‹é …', tags:'æ¸…å–® ç‰©å“ æ‹›å¾…'},
      {file:'wedding_timeline_tasks.html', title:'å©šç¦®æ™‚é–“æµç¨‹ï¼‹ä»»å‹™è¡¨', desc:'ç•¶æ—¥æ™‚é–“è»¸èˆ‡æ¯æ™‚æ®µè² è²¬äººèˆ‡å·¥ä½œé‡é»', tags:'æ™‚é–“ æµç¨‹ ç¸½å¬'},
      {file:'wedding_person_tasks.html', title:'æ¯äººä»»å‹™æ¸…å–®', desc:'æ¯ä½å·¥ä½œäººå“¡çš„äºŒæ¬„å¿«é€Ÿä»»å‹™æ¸…å–®ï¼ˆä¾¿æ–¼åˆ—å°ï¼‰', tags:'äººå“¡ ä»»å‹™ æ¸…å–®'},
      {file:'wedding_speech_pdf.html', title:'æ–°éƒè‡´è© (èˆå°å£è¢‹ç‰ˆ)', desc:'è‡´è©ç¨¿ï¼Œå¯åˆ—å°ç‚º PDF', tags:'è‡´è© èˆå° å£è¢‹'},
      {file:'seating.html', title:'åº§ä½å®‰æ’ (A3 æ‰“å°ç‰ˆ)', desc:'æ¡Œä½åˆ†é…ã€ç´ é£Ÿæ¨™è¨˜èˆ‡å¸¶ä½è¡¨', tags:'åº§ä½ æ¡Œä½ å¸¶ä½'}
    ];

    const list = document.getElementById('list');
    const q = document.getElementById('q');
    const clear = document.getElementById('clear');

    function render(items){
      list.innerHTML = items.map(p => `
        <div class="card">
          <div class="title">${p.title}</div>
          <div class="desc">${p.desc}</div>
          <div class="tags">${p.tags}</div>
          <div class="actions">
            <a class="btn" href="${p.file}" target="_blank">é–‹å•Ÿ</a>
            <button class="secondary" onclick="copyLink('${p.file}')">è¤‡è£½é€£çµ</button>
            <button onclick="showQR('${p.file}')" class="secondary">é¡¯ç¤º QR</button>
          </div>
          <div id="qr-${encodeURIComponent(p.file)}" class="qr" style="margin-top:8px;display:none"></div>
        </div>
      `).join('');
    }

    function copyLink(file){
      const url = location.origin + location.pathname.replace(/\/[^\/]*$/, '/') + file;
      navigator.clipboard?.writeText(url).then(()=> alert('é€£çµå·²è¤‡è£½ï¼š\n'+url), ()=> alert('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ã€‚'));
    }

    function showQR(file){
      const container = document.getElementById('qr-'+encodeURIComponent(file));
      if(!container) return;
      // ç”¢ç”Ÿ Google Chart QR (æ³¨æ„ï¼šéœ€ä¸Šç¶²)
      const url = location.origin + location.pathname.replace(/\/[^\/]*$/, '/') + file;
      container.style.display = 'flex';
      container.innerHTML = `<img src="https://chart.googleapis.com/chart?cht=qr&chs=150x150&chl=${encodeURIComponent(url)}" alt="QR"> <div class="small">æƒæä»¥é–‹å•Ÿï¼š<br><code style="font-size:12px;color:#666">${url}</code></div>`;
    }

    function filter(qs){
      const t = qs.trim().toLowerCase();
      if(!t) render(pages);
      else render(pages.filter(p=> (p.title+p.desc+p.tags).toLowerCase().includes(t)));
    }

    q.addEventListener('input', e=> filter(e.target.value));
    clear.addEventListener('click', ()=>{ q.value=''; filter(''); });

    // åˆæ¬¡æ¸²æŸ“
    render(pages);
  </script>
</body>
</html>